{
  "timestamp": "2025-11-28T11:13:57.812370",
  "web_hooks": {
    "basic_webhook": {
      "success": true,
      "duration": 8.800578355789185,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.11', 'Platform': 'Linux-6.11.11-linuxkit-aarch64-with-glibc2.41', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'json-report': '1.5.0', 'forked': '1.6.0', 'cov': '7.0.0', 'asyncio': '1.3.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'playwright': '0.7.1', 'base-url': '2.1.0', 'libtmux': '0.47.0', 'xdist': '3.8.0'}, 'Base URL': ''}\nrootdir: /workspace/openhands\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, json-report-1.5.0, forked-1.6.0, cov-7.0.0, asyncio-1.3.0, timeout-2.4.0, metadata-3.1.1, playwright-0.7.1, base-url-2.1.0, libtmux-0.47.0, xdist-3.8.0\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... collected 13 items\n\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_init_with_default_client PASSED [  7%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_init_with_custom_client PASSED [ 15%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_write_triggers_webhook PASSED [ 23%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_write_with_bytes_content PASSED [ 30%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_delete_triggers_webhook PASSED [ 38%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_read_delegates_to_underlying_store PASSED [ 46%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_list_delegates_to_underlying_store PASSED [ 53%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_webhook_retry_on_failure PASSED [ 61%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_webhook_failure_after_retries PASSED [ 69%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_multiple_operations_trigger_multiple_webhooks PASSED [ 76%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_webhook_url_construction PASSED [ 84%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_empty_path_handling PASSED [ 92%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_special_characters_in_path PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 13 passed in 8.22s ==============================\n",
      "stderr": "",
      "test_count": 13,
      "passed": 13,
      "failed": 0,
      "skipped": 0,
      "coverage": {}
    },
    "batched_webhook": {
      "success": true,
      "duration": 5.848469972610474,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.11', 'Platform': 'Linux-6.11.11-linuxkit-aarch64-with-glibc2.41', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'json-report': '1.5.0', 'forked': '1.6.0', 'cov': '7.0.0', 'asyncio': '1.3.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'playwright': '0.7.1', 'base-url': '2.1.0', 'libtmux': '0.47.0', 'xdist': '3.8.0'}, 'Base URL': ''}\nrootdir: /workspace/openhands\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, json-report-1.5.0, forked-1.6.0, cov-7.0.0, asyncio-1.3.0, timeout-2.4.0, metadata-3.1.1, playwright-0.7.1, base-url-2.1.0, libtmux-0.47.0, xdist-3.8.0\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... collected 17 items\n\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_write_operation_batched PASSED [  5%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_delete_operation_batched PASSED [ 11%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batch_size_limit_triggers_send PASSED [ 17%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_multiple_updates_same_file PASSED [ 23%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_flush_sends_immediately PASSED [ 29%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_multiple_operations_in_single_batch PASSED [ 35%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_binary_content_handling PASSED [ 41%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_timeout_edge_cases PASSED [ 47%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_large_content_handling PASSED [ 52%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_concurrent_operations PASSED [ 58%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_error_handling PASSED [ 64%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_mixed_content_types PASSED [ 70%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_empty_batch_handling PASSED [ 76%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_url_construction PASSED [ 82%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_special_characters_in_paths PASSED [ 88%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_unicode_content PASSED [ 94%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_performance_large_batch PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 17 passed in 4.36s ==============================\n",
      "stderr": "--- Logging error ---\nTraceback (most recent call last):\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 480, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 260, in _send_batch_request\n    response = self.client.post(self.base_url, json=batch_payload)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 480, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 260, in _send_batch_request\n    response = self.client.post(self.base_url, json=batch_payload)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 480, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 260, in _send_batch_request\n    response = self.client.post(self.base_url, json=batch_payload)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\nException: Network error\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 212, in _send_batch\n    self._send_batch_request(batch_to_send)\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 338, in wrapped_f\n    return copy(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 477, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0xffff90004ec0 state=finished raised Exception>]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/threading.py\", line 1032, in _bootstrap\n    self._bootstrap_inner()\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n    self.run()\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/threading.py\", line 1012, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 214, in _send_batch\n    logger.exception('Error sending webhook batch')\nMessage: 'Error sending webhook batch'\nArguments: ()\n",
      "test_count": 17,
      "passed": 17,
      "failed": 0,
      "skipped": 0,
      "coverage": {}
    },
    "overall_success": true
  },
  "git_hooks": {
    "git_hooks": {
      "success": true,
      "duration": 2.791537284851074,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.11', 'Platform': 'Linux-6.11.11-linuxkit-aarch64-with-glibc2.41', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'json-report': '1.5.0', 'forked': '1.6.0', 'cov': '7.0.0', 'asyncio': '1.3.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'playwright': '0.7.1', 'base-url': '2.1.0', 'libtmux': '0.47.0', 'xdist': '3.8.0'}, 'Base URL': ''}\nrootdir: /workspace/openhands\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, json-report-1.5.0, forked-1.6.0, cov-7.0.0, asyncio-1.3.0, timeout-2.4.0, metadata-3.1.1, playwright-0.7.1, base-url-2.1.0, libtmux-0.47.0, xdist-3.8.0\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... collected 14 items\n\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_success PASSED [  7%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_no_script PASSED [ 14%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_mkdir_failure PASSED [ 21%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_with_existing_hook PASSED [ 28%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_script_permissions PASSED [ 35%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_backup_existing PASSED [ 42%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_multiple_hooks PASSED [ 50%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_script_validation PASSED [ 57%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_concurrent_access PASSED [ 64%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_error_recovery PASSED [ 71%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_temp_directory_handling PASSED [ 78%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_script_content_integrity PASSED [ 85%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_environment_variables PASSED [ 92%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_filesystem_edge_cases PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 14 passed in 1.91s ==============================\n",
      "stderr": "",
      "test_count": 14,
      "passed": 14,
      "failed": 0,
      "skipped": 0,
      "coverage": {}
    },
    "overall_success": true
  },
  "overall_success": true,
  "integration": {
    "web_integration": {
      "basic_webhook": {
        "success": true,
        "duration": 8.646265745162964,
        "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.11', 'Platform': 'Linux-6.11.11-linuxkit-aarch64-with-glibc2.41', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'json-report': '1.5.0', 'forked': '1.6.0', 'cov': '7.0.0', 'asyncio': '1.3.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'playwright': '0.7.1', 'base-url': '2.1.0', 'libtmux': '0.47.0', 'xdist': '3.8.0'}, 'Base URL': ''}\nrootdir: /workspace/openhands\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, json-report-1.5.0, forked-1.6.0, cov-7.0.0, asyncio-1.3.0, timeout-2.4.0, metadata-3.1.1, playwright-0.7.1, base-url-2.1.0, libtmux-0.47.0, xdist-3.8.0\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... collected 13 items\n\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_init_with_default_client PASSED [  7%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_init_with_custom_client PASSED [ 15%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_write_triggers_webhook PASSED [ 23%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_write_with_bytes_content PASSED [ 30%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_delete_triggers_webhook PASSED [ 38%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_read_delegates_to_underlying_store PASSED [ 46%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_list_delegates_to_underlying_store PASSED [ 53%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_webhook_retry_on_failure PASSED [ 61%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_webhook_failure_after_retries PASSED [ 69%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_multiple_operations_trigger_multiple_webhooks PASSED [ 76%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_webhook_url_construction PASSED [ 84%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_empty_path_handling PASSED [ 92%]\ntests/unit/storage/test_web_hook.py::TestWebHookFileStore::test_special_characters_in_path PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 13 passed in 8.04s ==============================\n",
        "stderr": "",
        "test_count": 13,
        "passed": 13,
        "failed": 0,
        "skipped": 0,
        "coverage": {}
      },
      "batched_webhook": {
        "success": true,
        "duration": 6.125526666641235,
        "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.11', 'Platform': 'Linux-6.11.11-linuxkit-aarch64-with-glibc2.41', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'json-report': '1.5.0', 'forked': '1.6.0', 'cov': '7.0.0', 'asyncio': '1.3.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'playwright': '0.7.1', 'base-url': '2.1.0', 'libtmux': '0.47.0', 'xdist': '3.8.0'}, 'Base URL': ''}\nrootdir: /workspace/openhands\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, json-report-1.5.0, forked-1.6.0, cov-7.0.0, asyncio-1.3.0, timeout-2.4.0, metadata-3.1.1, playwright-0.7.1, base-url-2.1.0, libtmux-0.47.0, xdist-3.8.0\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... collected 17 items\n\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_write_operation_batched PASSED [  5%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_delete_operation_batched PASSED [ 11%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batch_size_limit_triggers_send PASSED [ 17%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_multiple_updates_same_file PASSED [ 23%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_flush_sends_immediately PASSED [ 29%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_multiple_operations_in_single_batch PASSED [ 35%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_binary_content_handling PASSED [ 41%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_timeout_edge_cases PASSED [ 47%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_large_content_handling PASSED [ 52%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_concurrent_operations PASSED [ 58%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_error_handling PASSED [ 64%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_mixed_content_types PASSED [ 70%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_empty_batch_handling PASSED [ 76%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_url_construction PASSED [ 82%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_special_characters_in_paths PASSED [ 88%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_unicode_content PASSED [ 94%]\ntests/unit/storage/test_batched_web_hook.py::TestBatchedWebHookFileStore::test_batched_webhook_performance_large_batch PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 17 passed in 4.61s ==============================\n",
        "stderr": "--- Logging error ---\nTraceback (most recent call last):\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 480, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 260, in _send_batch_request\n    response = self.client.post(self.base_url, json=batch_payload)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 480, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 260, in _send_batch_request\n    response = self.client.post(self.base_url, json=batch_payload)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 480, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 260, in _send_batch_request\n    response = self.client.post(self.base_url, json=batch_payload)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\nException: Network error\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 212, in _send_batch\n    self._send_batch_request(batch_to_send)\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 338, in wrapped_f\n    return copy(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 477, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/openhands/poetry/openhands-ai-5O4_aCHf-py3.12/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0xffff88014ec0 state=finished raised Exception>]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/threading.py\", line 1032, in _bootstrap\n    self._bootstrap_inner()\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n    self.run()\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/threading.py\", line 1012, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n  File \"/openhands/micromamba/envs/openhands/lib/python3.12/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/workspace/openhands/openhands/storage/batched_web_hook.py\", line 214, in _send_batch\n    logger.exception('Error sending webhook batch')\nMessage: 'Error sending webhook batch'\nArguments: ()\n",
        "test_count": 17,
        "passed": 17,
        "failed": 0,
        "skipped": 0,
        "coverage": {}
      },
      "overall_success": true
    },
    "git_integration": {
      "git_hooks": {
        "success": true,
        "duration": 2.780749797821045,
        "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.11', 'Platform': 'Linux-6.11.11-linuxkit-aarch64-with-glibc2.41', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'json-report': '1.5.0', 'forked': '1.6.0', 'cov': '7.0.0', 'asyncio': '1.3.0', 'timeout': '2.4.0', 'metadata': '3.1.1', 'playwright': '0.7.1', 'base-url': '2.1.0', 'libtmux': '0.47.0', 'xdist': '3.8.0'}, 'Base URL': ''}\nrootdir: /workspace/openhands\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, json-report-1.5.0, forked-1.6.0, cov-7.0.0, asyncio-1.3.0, timeout-2.4.0, metadata-3.1.1, playwright-0.7.1, base-url-2.1.0, libtmux-0.47.0, xdist-3.8.0\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... collected 14 items\n\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_success PASSED [  7%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_no_script PASSED [ 14%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_mkdir_failure PASSED [ 21%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_maybe_setup_git_hooks_with_existing_hook PASSED [ 28%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_script_permissions PASSED [ 35%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_backup_existing PASSED [ 42%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_multiple_hooks PASSED [ 50%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_script_validation PASSED [ 57%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_concurrent_access PASSED [ 64%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_error_recovery PASSED [ 71%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_temp_directory_handling PASSED [ 78%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_script_content_integrity PASSED [ 85%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_environment_variables PASSED [ 92%]\ntests/unit/runtime/test_git_hooks.py::TestGitHooks::test_git_hook_filesystem_edge_cases PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 14 passed in 1.92s ==============================\n",
        "stderr": "",
        "test_count": 14,
        "passed": 14,
        "failed": 0,
        "skipped": 0,
        "coverage": {}
      },
      "overall_success": true
    },
    "overall_success": true
  }
}